{
    "resourceType":"StructureDefinition",
    "id":"KBV-PR-Base-Patient",
    "url":"https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Patient",
    "version":"1.4.0",
    "name":"KBV_PR_Base_Patient",
    "status":"active",
    "description":"Dieses Profil bildet eine Person ab, die eine oder mehrere medizinische Leistungen in Anspruch nimmt.",
    "fhirVersion":"4.0.1",
    "mapping":[
        {
            "identity":"rim",
            "uri":"http://hl7.org/v3",
            "name":"RIM Mapping"
        },
        {
            "identity":"cda",
            "uri":"http://hl7.org/v3/cda",
            "name":"CDA (R2)"
        },
        {
            "identity":"w5",
            "uri":"http://hl7.org/fhir/fivews",
            "name":"FiveWs Pattern Mapping"
        },
        {
            "identity":"v2",
            "uri":"http://hl7.org/v2",
            "name":"HL7 v2 Mapping"
        },
        {
            "identity":"loinc",
            "uri":"http://loinc.org",
            "name":"LOINC code for the element"
        }
    ],
    "kind":"resource",
    "abstract":false,
    "type":"Patient",
    "baseDefinition":"http://hl7.org/fhir/StructureDefinition/Patient",
    "derivation":"constraint",
    "differential":{
        "element":[
            {
                "id":"Patient",
                "path":"Patient",
                "definition":"Dieses Element beschreibt eine Person, die eine oder mehrere medizinische Leistungen in Anspruch nimmt.",
                "constraint":[
                    {
                        "key":"pat-de-1",
                        "severity":"error",
                        "human":"Die amtliche Differenzierung der Geschlechtsangabe 'other' darf nur gefüllt sein, wenn das Geschlecht 'other' angegeben ist",
                        "expression":"gender.exists() and gender='other' implies gender.extension('http://fhir.de/StructureDefinition/gender-amtlich-de').exists()"
                    }
                ]
            },
            {
                "id":"Patient.name",
                "path":"Patient.name",
                "slicing":{
                    "discriminator":[
                        {
                            "type":"value",
                            "path":"use"
                        }
                    ],
                    "rules":"open"
                },
                "min":1
            },
            {
                "id":"Patient.name:name",
                "path":"Patient.name",
                "sliceName":"name",
                "max":"1",
                "type":[
                    {
                        "code":"HumanName",
                        "profile":[
                            "https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Datatype_Name|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.name:geburtsname",
                "path":"Patient.name",
                "sliceName":"geburtsname",
                "max":"1",
                "type":[
                    {
                        "code":"HumanName",
                        "profile":[
                            "https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Datatype_Maiden_Name|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.telecom",
                "path":"Patient.telecom",
                "type":[
                    {
                        "code":"ContactPoint",
                        "profile":[
                            "https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Datatype_Contactpoint|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.gender.extension",
                "path":"Patient.gender.extension",
                "slicing":{
                    "discriminator":[
                        {
                            "type":"value",
                            "path":"url"
                        }
                    ],
                    "rules":"open"
                },
                "min":0
            },
            {
                "id":"Patient.gender.extension:other-amtlich",
                "path":"Patient.gender.extension",
                "sliceName":"other-amtlich",
                "min":0,
                "max":"1",
                "type":[
                    {
                        "code":"Extension",
                        "profile":[
                            "http://fhir.de/StructureDefinition/gender-amtlich-de|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.birthDate",
                "path":"Patient.birthDate",
                "min":1
            },
            {
                "id":"Patient.birthDate.extension",
                "path":"Patient.birthDate.extension",
                "slicing":{
                    "discriminator":[
                        {
                            "type":"value",
                            "path":"url"
                        }
                    ],
                    "rules":"open"
                },
                "min":0
            },
            {
                "id":"Patient.birthDate.extension:data-absent-reason",
                "path":"Patient.birthDate.extension",
                "sliceName":"data-absent-reason",
                "min":0,
                "type":[
                    {
                        "code":"Extension",
                        "profile":[
                            "http://hl7.org/fhir/StructureDefinition/data-absent-reason"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.birthDate.extension:data-absent-reason.value[x]",
                "path":"Patient.birthDate.extension.value[x]",
                "slicing":{
                    "discriminator":[
                        {
                            "type":"type",
                            "path":"$this"
                        }
                    ],
                    "rules":"open"
                }
            },
            {
                "id":"Patient.birthDate.extension:data-absent-reason.value[x]:valueCode",
                "path":"Patient.birthDate.extension.value[x]",
                "sliceName":"valueCode",
                "fixedCode":"unknown"
            },
            {
                "id":"Patient.address",
                "path":"Patient.address",
                "slicing":{
                    "discriminator":[
                        {
                            "type":"value",
                            "path":"type"
                        }
                    ],
                    "rules":"open"
                }
            },
            {
                "id":"Patient.address:Strassenanschrift",
                "path":"Patient.address",
                "sliceName":"Strassenanschrift",
                "type":[
                    {
                        "code":"Address",
                        "profile":[
                            "https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Datatype_Street_Address|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.address:Postfach",
                "path":"Patient.address",
                "sliceName":"Postfach",
                "type":[
                    {
                        "code":"Address",
                        "profile":[
                            "https://fhir.kbv.de/StructureDefinition/KBV_PR_Base_Datatype_Post_Office_Box|1.4.0"
                        ]
                    }
                ]
            },
            {
                "id":"Patient.maritalStatus",
                "path":"Patient.maritalStatus",
                "short":"Personenstand",
                "definition":"Hier wird der Personenstand (Familienstand) der behandelten Person angegeben."
            },
            {
                "id":"Patient.maritalStatus.coding.system",
                "path":"Patient.maritalStatus.coding.system",
                "min":1
            },
            {
                "id":"Patient.maritalStatus.coding.code",
                "path":"Patient.maritalStatus.coding.code",
                "min":1
            },
            {
                "id":"Patient.maritalStatus.coding.display",
                "path":"Patient.maritalStatus.coding.display",
                "min":1
            },
            {
                "id":"Patient.contact.address.country",
                "path":"Patient.contact.address.country",
                "short":"Staat",
                "definition":"Angabe des Staates als Länderkennzeichen nach DEUEV Anlage 8.",
                "binding":{
                    "strength":"extensible",
                    "valueSet":"https://fhir.kbv.de/ValueSet/KBV_VS_Base_Deuev_Anlage_8"
                }
            },
            {
                "id":"Patient.communication.language",
                "path":"Patient.communication.language",
                "short":"Bevorzugte Sprache",
                "definition":"Die Sprache, die zur Kommunikation mit dem Patienten über medizinische Themen verwendet werden kann.",
                "binding":{
                    "strength":"preferred",
                    "valueSet":"https://fhir.kbv.de/ValueSet/KBV_VS_Base_CommonLanguages"
                }
            }
        ]
    }
}
