{:baseDefinition "http://hl7.org/fhir/StructureDefinition/Identifier"
 :date "2023-04-19T06:32:43+00:00",
 :derivation "constraint",
 :publisher "HL7 Australia",
 :fhirVersion "4.0.1",
 :jurisdiction
 [{:coding [{:system "urn:iso:std:iso:3166", :code "AU"}]}],
 :name "AUIHI",
 :abstract false,
 :type "Identifier",
 :resourceType "StructureDefinition",
 :title "AU IHI",
 :status "active",
 :id "au-ihi",
 :kind "complex-type",
 :url "http://hl7.org.au/fhir/StructureDefinition/au-ihi",
 :version "4.1.1",
 :differential
 {:element
  [{:id "Identifier",
    :path "Identifier",
    :short "Individual Healthcare Identifier (IHI)",
    :definition
    "Individual Healthcare Identifier (IHI) assigned under the HI Service to a patient.",
    :constraint
    [{:key "inv-ihi-value-0",
      :severity "error",
      :human "IHI shall be an exactly 16 digit number",
      :expression "value.matches('^([0-9]{16})$')",
      :source "http://hl7.org.au/fhir/StructureDefinition/au-ihi"}
     {:key "inv-ihi-value-1",
      :severity "error",
      :human "IHI prefix is 800360",
      :expression "value.startsWith('800360')",
      :source "http://hl7.org.au/fhir/StructureDefinition/au-ihi"}
     {:key "inv-ihi-value-2",
      :severity "error",
      :human "IHI shall pass the Luhn algorithm check",
      :expression
      "(((select(value.substring(0,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(1,1).toInteger())+(select(value.substring(2,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(3,1).toInteger())+(select(value.substring(4,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(5,1).toInteger())+(select(value.substring(6,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(7,1).toInteger())+(select(value.substring(8,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(9,1).toInteger())+(select(value.substring(10,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(11,1).toInteger())+(select(value.substring(12,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(13,1).toInteger())+(select(value.substring(14,1).toInteger()).select(iif($this<5, $this*2, (($this*2)-9))))+(value.substring(15,1).toInteger()))mod 10=0)",
      :source "http://hl7.org.au/fhir/StructureDefinition/au-ihi"}]}
   {:id "Identifier.extension",
    :path "Identifier.extension",
    :slicing
    {:discriminator [{:type "value", :path "url"}], :rules "open"}}
   {:id "Identifier.extension:ihiStatus",
    :path "Identifier.extension",
    :sliceName "ihiStatus",
    :max "1",
    :type
    [{:code "Extension",
      :profile
      ["http://hl7.org.au/fhir/StructureDefinition/ihi-status"]}]}
   {:id "Identifier.extension:ihiRecordStatus",
    :path "Identifier.extension",
    :sliceName "ihiRecordStatus",
    :max "1",
    :type
    [{:code "Extension",
      :profile
      ["http://hl7.org.au/fhir/StructureDefinition/ihi-record-status"]}]}
   {:id "Identifier.extension:ihiVerifiedDate",
    :path "Identifier.extension",
    :sliceName "ihiVerifiedDate",
    :max "1",
    :type
    [{:code "Extension",
      :profile
      ["http://hl7.org.au/fhir/StructureDefinition/ihi-verified-date"]}]}
   {:id "Identifier.type",
    :path "Identifier.type",
    :min 1,
    :patternCodeableConcept
    {:coding
     [{:system "http://terminology.hl7.org/CodeSystem/v2-0203",
       :code "NI"}]}}
   {:id "Identifier.system",
    :path "Identifier.system",
    :min 1,
    :fixedUri "http://ns.electronichealth.net.au/id/hi/ihi/1.0"}
   {:id "Identifier.value",
    :path "Identifier.value",
    :short "IHI",
    :comment
    "This concept is equivalent to Australian Institute of Health and Welfare data element 743458 [Personâ€”Individual Healthcare Identifier, N(16)](https://meteor.aihw.gov.au/content/index.phtml/itemId/743458).",
    :min 1,
    :example [{:label "IHI", :valueString "8003608833357361"}],
    :maxLength 16}]},
 :contact
 [{:name "HL7 Australia Patient Administration Working Group",
   :telecom
   [{:system "url",
     :value "http://confluence.hl7australia.com/display/PA",
     :use "work"}]}
  {:name "HL7 Australia Orders and Observations Working Group",
   :telecom
   [{:system "url",
     :value "https://confluence.hl7australia.com/display/OO",
     :use "work"}]}
  {:name "HL7 Australia Medications Working Group",
   :telecom
   [{:system "url",
     :value "https://confluence.hl7australia.com/display/MED",
     :use "work"}]}],
 }
